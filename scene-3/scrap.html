<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://rawgit.com/takahirox/aframe-rain/master/build/aframe-rain.min.js"></script> 
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
    <script src="https://unpkg.com/aframe-curve-component@0.1.3/dist/aframe-curve-component.min.js"></script>
    <script src="https://unpkg.com/aframe-alongpath-component@1.0.5/dist/aframe-alongpath-component.min.js"></script>
</head>
<body>
    <a-scene light="defaultLightsEnabled: false" fog="type: exponential; density: 0.05; color: #a58fc7;">
        <a-assets>
            <a-asset-item id="model" src="../field.glb"></a-asset-item>
            <a-asset-item id="ground" src="../panic-ground.glb"></a-asset-item>
        </a-assets>

        <a-sky material="shader: gradientshader;
                topColor:  #1f1f1f ;  
                bottomColor:  #a58fc7"
        ></a-sky> 

        <!-- Track Code Start -->
        <a-curve id="track1">
            <a-curve-point id="checkpoint1a" position="0 1.6 10"></a-curve-point>
            <a-curve-point id="checkpoint2a" position="0 1.8 8"></a-curve-point>
            <a-curve-point id="checkpoint3a" position="0 1.6 6"></a-curve-point>
            <a-curve-point id="checkpoint1a" position="0 1.8 4"></a-curve-point>
            <a-curve-point id="checkpoint2a" position="0 1.6 2"></a-curve-point>
            <a-curve-point id="checkpoint3a" position="0 1.8 0"></a-curve-point>
        </a-curve>

        <a-draw-curve curveref="#track1" material="shader: line; color: red;"></a-draw-curve>

        <!-- Track Code End -->

         <!-- Camera -->
         <!-- alongpath="curve: #path1; loop:false; dur:6000; delay:2000; triggerRadius:0.1; rotate:true;" -->
         <a-entity id="camera-rig" position="0 1.6 0" look-controls >
            <a-entity id="camera" camera look-controls alongpath="curve: #path1; loop:false; dur:6000; delay:2000; triggerRadius:0.1; rotate:true;">
            
            </a-entity>
        </a-entity>

        <a-entity light="type: directional; 
                intensity:  0.5;  
                castShadow:  true; 
                shadowCameraVisible: true;
                shadowCameraRight: 40;
                shadowCameraLeft: -40;
                shadowCamera
                color: #a58fc7;"
            position="0 10.455 -104">
        </a-entity>

        <a-entity gltf-model="#model" shadow="cast: true"></a-entity>
        <a-entity gltf-model="#ground" shadow="cast: true"></a-entity>
    </a-scene>
</body>
</html>